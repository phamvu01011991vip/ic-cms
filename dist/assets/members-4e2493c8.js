import{_ as ce}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-29ba3f76.js";import{d as me,B as pe,l as s,A as G,ad as A,a1 as K,C as q,ae as fe,as as O,o as C,c as $,n,q as a,w as r,s as l,J as _,I as b,U as f,y as u,D as ve,b as J,af as _e,E as Q,F as ge,a as he,ag as W,a5 as be}from"./index-ed2f9e48.js";import{l as i}from"./index-d2a9c51c.js";import{u as Ve}from"./useUserListStore-98162b8d.js";import{V as Ee}from"./vue3-apexcharts.common-3c6f5794.js";import{a as U,V as P}from"./VRow-563cefa7.js";import{V as I,c as S}from"./VCard-20e56964.js";import{V as B}from"./VSelect-8e53993f.js";import{V as X}from"./VTextField-17c7b994.js";import{V as L}from"./VDivider-0654ea99.js";import{V as xe}from"./VSpacer-903df1cd.js";import{V as ye}from"./VTable-60d2b25e.js";import{V as Ae}from"./VPagination-7e9495cf.js";import{V as Z}from"./VDialog-8153b926.js";import"./vue.runtime.esm-bundler-6d109b4a.js";import"./createSimpleFunctional-b8ae8fab.js";import"./VAvatar-64850002.js";import"./VImg-2cf5c854.js";import"./transition-d0ff91da.js";import"./forwardRefs-a29b5f65.js";import"./VList-b41f68bc.js";import"./ssrBoot-c93ffca9.js";import"./VInput-adae660e.js";import"./dialog-transition-a193b3ce.js";import"./easing-9f15041e.js";import"./VMenu-70ab3a33.js";import"./VOverlay-bb2110ac.js";import"./lazy-ad19b40d.js";import"./VCheckboxBtn-d9d39b31.js";import"./VSelectionControl-89de378e.js";import"./VChip-4b6b5bf8.js";/* empty css                   */import"./VField-c67db2c3.js";import"./VCounter-1030fb28.js";const Se={style:{height:"100%"}},Ce={class:"app-user-search-filter d-flex align-center",style:{height:"100%"}},Ue={scope:"col"},we={scope:"col"},Re={scope:"col"},Te={scope:"col"},Ne={scope:"col"},De={scope:"col"},ke={class:"text-capitalize text-base"},Me={class:"text-capitalize text-base"},Ge={class:"text-base"},Oe={class:"text-capitalize text-base"},$e={class:"text-capitalize text-base"},Pe={class:"d-flex align-center",style:{width:"171px"}},Ie={class:"text-no-wrap text-sm me-3"},Be={class:"d-flex align-center"},Le={class:"text-sm font-weight-regular"},ze=me({__name:"members",setup(Fe){const z=pe();Ve();const w=s(""),g=s(10),c=s(1),D=s(14),V=s(1),E=s([]);s(""),s("");const R=s(!1),k=s(0);s();const ee=s(),F=s([]);G(c,(o,e)=>{ee.value=o,x(o)});const x=async(o=1,e="id",d="")=>{E.value="";try{R.value=!0;const t=await A.get("member",{params:{page:o,limit:g.value,[e]:d}});if(t.data.success)return R.value=!1,E.value=t.data.data,D.value=t.data.count,V.value=Math.ceil(D.value/g.value),E.value.length}catch{R.value=!1}};K(()=>{c.value>V.value&&(c.value=V.value)});const H=s(),T=s({state:"ID",abbr:"id"});G(T,(o,e)=>{H.value=o});const te=[{state:"ID",abbr:"id"},{state:"Name",abbr:"name"},{state:"Group",abbr:"group"}];window.addEventListener("keyup",o=>{o.keyCode===13&&Y()});async function Y(){try{x(1,H.value,w.value)}catch{}}K(()=>{c.value>V.value&&(c.value=V.value)});const ae=q(()=>{const o=E.value.length?(c.value-1)*g.value+1:0,e=E.value.length+(c.value-1)*g.value;return`${o}-${e} of ${D.value}`}),N=s([]),le=s(!1);G(N,()=>{N.value.length||(le.value=!1)},{deep:!0});const oe=s(),y=s(!1),v=s(!1);s(""),s(""),s(""),s(),s(""),s("");async function se(o){oe.value=o,k.value=o;const e=await A.get("member/detail",{params:{id:o}});k.value=0;const{data:d}=e.data;F.value=[{name:"Chuá»™t",data:d.mouse},{name:"BÃ n PhÃ­m",data:d.keyboard}],y.value=!0}s(1),s(10),fe(()=>{x()});function ne(){const o=[],e=new Date;for(let d=0;d<7;d++){const t=new Date(e);t.setDate(e.getDate()-d);const M=t.getDate(),de=t.getMonth()+1;o.push(`${M}/${de}`)}return console.log("ðŸš€ ~ getLast7Days ~ result:",o),o.reverse()}const re=q(()=>{const o=z.current.value.colors,e=z.current.value.variables,d=`rgba(${O(String(o["on-surface"]))},${e["disabled-opacity"]})`,t=`rgba(${O(String(e["border-color"]))},${e["border-opacity"]})`;return{chart:{parentHeightOffset:0,toolbar:{show:!1},dropShadow:{top:14,blur:4,left:0,enabled:!0,opacity:.04,enabledOnSeries:[1],color:"#000"}},grid:{show:!1,padding:{left:-7,top:-37,right:34,bottom:10}},legend:{show:!1},colors:[t,`rgba(${O(String(o.primary))}, 1)`],stroke:{width:[3,5],curve:"smooth",lineCap:"round",dashArray:[8,0]},xaxis:{axisTicks:{show:!1},axisBorder:{show:!1},categories:[...ne()],labels:{style:{fontSize:"1rem",colors:d,fontFamily:"Public Sans"}}},yaxis:{labels:{show:!0}}}}),m=s(""),p=s(""),h=s(),j=async o=>{v.value=!0,o?await A.get("/member-detail/"+o).then(e=>{const{data:d}=e.data;h.value=o,m.value=d.name,p.value=d.group}).catch(e=>{console.log("ðŸš€ ~ handleOpenPost ~ err:",e)}):(h.value=null,m.value="",p.value="")},ie=async()=>{h.value?await A.put("member/"+h.value,{name:m.value,group:p.value}).then(o=>{v.value=!1,m.value="",p.value="",x()}).catch(o=>{W({title:"Tháº¥t báº¡i",text:"TÃªn trÃ¹ng láº·p",type:"error"})}):await A.post("member",{name:m.value,group:p.value}).then(o=>{v.value=!1,m.value="",p.value="",x()}).catch(o=>{W({title:"Tháº¥t báº¡i",text:"TÃªn trÃ¹ng láº·p",type:"error"})})},ue=async o=>{await A.delete("member/"+h.value).then(e=>{v.value=!1,h.value=null,m.value="",p.value="",x()}).catch(e=>{console.log("ðŸš€ ~ handleOpenPost ~ err:",e)})};return(o,e)=>{const d=ce;return C(),$("div",null,[n("section",null,[a(P,null,{default:r(()=>[a(U,{cols:"12"},{default:r(()=>[a(I,{title:l(i).USER_MANAGE_TITLE},{default:r(()=>[a(S,null,{default:r(()=>[a(P,null,{default:r(()=>[a(U,{cols:"12",sm:"4"},{default:r(()=>[n("div",Se,[a(B,{modelValue:l(T),"onUpdate:modelValue":e[0]||(e[0]=t=>_(T)?T.value=t:null),label:l(i).USER_MANAGE_ORDER_BY,items:te,"item-title":"state","item-value":"abbr"},null,8,["modelValue","label"])])]),_:1}),a(U,{cols:"12",sm:"4"},{default:r(()=>[n("div",Ce,[a(X,{modelValue:l(w),"onUpdate:modelValue":e[1]||(e[1]=t=>_(w)?w.value=t:null),placeholder:l(i).USER_MANAGE_SEARCHKEY_PLACEHOLDER,density:"compact",class:"me-3"},null,8,["modelValue","placeholder"]),a(b,{onClick:Y},{default:r(()=>[f(u(l(i).USER_MANAGE_SEARCH_BUTTON)+" ",1),a(ve,{end:"",icon:"bx-search"})]),_:1})])]),_:1})]),_:1})]),_:1}),a(L),a(S,{class:"d-flex flex-wrap gap-4"},{default:r(()=>[a(b,{onClick:e[2]||(e[2]=t=>j(null)),variant:"tonal"},{default:r(()=>[f(u(l(i).CREATE),1)]),_:1}),a(xe)]),_:1}),a(L),l(R)?(C(),J(_e,{key:0,height:"10",indeterminate:"",color:"primary"})):Q("",!0),a(ye,{class:"text-no-wrap"},{default:r(()=>[n("thead",null,[n("tr",null,[n("th",Ue,u(l(i).USER_MANAGE_ID_USER),1),n("th",we,u(l(i).USER_MANAGE_GROUP),1),n("th",Re,u(l(i).USER_MANAGE_username),1),n("th",Te,u(l(i).KEYBOARD),1),n("th",Ne,u(l(i).MOUSE),1),n("th",De,u(l(i).USER_MANAGE_ACTIONS),1)])]),n("tbody",null,[(C(!0),$(ge,null,he(l(E),t=>(C(),$("tr",{key:t.id},[n("td",null,[n("span",ke,u(t.id),1)]),n("td",null,[n("span",Me,u(t.group),1)]),n("td",null,[n("span",Ge,u(t.name),1)]),n("td",null,[n("span",Oe,u(t.total_keyboard),1)]),n("td",null,[n("span",$e,u(t.total_mouse),1)]),n("td",null,[a(b,{size:"small",color:"warning",loading:t.id===l(k),onClick:M=>se(t.id)},{default:r(()=>[f(u(l(i).STATISTICAL),1)]),_:2},1032,["loading","onClick"]),f("â€‚ "),a(b,{size:"small",color:"primary",onClick:M=>j(t.id)},{default:r(()=>[f(u(l(i).USER_MANAGE_ACTIONS_EDIT),1)]),_:2},1032,["onClick"]),f("â€‚ ")])]))),128))])]),_:1}),a(L),a(S,{class:"d-flex flex-wrap justify-end gap-4 pa-2"},{default:r(()=>[n("div",Pe,[n("span",Ie,u(l(i).USER_MANAGE_ROWS_PER_PAGE)+":",1),a(B,{modelValue:l(g),"onUpdate:modelValue":e[3]||(e[3]=t=>_(g)?g.value=t:null),density:"compact",class:"per-page-select",variant:"plain",items:[10,20,30,50]},null,8,["modelValue"])]),n("div",Be,[n("h6",Le,u(l(ae)),1)]),a(Ae,{modelValue:l(c),"onUpdate:modelValue":e[4]||(e[4]=t=>_(c)?c.value=t:null),"total-visible":1,rounded:"circle",length:l(V),onNext:e[5]||(e[5]=t=>N.value=[]),onPrev:e[6]||(e[6]=t=>N.value=[])},null,8,["modelValue","length"])]),_:1})]),_:1},8,["title"])]),_:1})]),_:1})]),a(Z,{modelValue:l(y),"onUpdate:modelValue":e[9]||(e[9]=t=>_(y)?y.value=t:null),"max-width":"600"},{default:r(()=>[a(I,{title:l(i).USER_MANAGE_USER_PROFILE},{default:r(()=>[a(d,{variant:"text",size:"small",onClick:e[7]||(e[7]=t=>y.value=!1)}),a(l(Ee),{type:"line",height:217,options:l(re),series:l(F)},null,8,["options","series"]),a(S,{class:"d-flex justify-end gap-2"},{default:r(()=>[a(b,{color:"secondary",variant:"tonal",onClick:e[8]||(e[8]=t=>y.value=!1)},{default:r(()=>[f(" Close ")]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]),a(Z,{modelValue:l(v),"onUpdate:modelValue":e[13]||(e[13]=t=>_(v)?v.value=t:null),"max-width":"600"},{default:r(()=>[a(I,{title:l(i).USER_MANAGE_username},{default:r(()=>[a(d,{variant:"text",size:"small",onClick:e[10]||(e[10]=t=>v.value=!1)}),a(S,null,{default:r(()=>[a(P,null,{default:r(()=>[a(U,{cols:"12"},{default:r(()=>[a(X,{modelValue:l(m),"onUpdate:modelValue":e[11]||(e[11]=t=>_(m)?m.value=t:null),label:l(i).USER_MANAGE_username},null,8,["modelValue","label"])]),_:1}),a(U,{cols:"12"},{default:r(()=>[a(B,{modelValue:l(p),"onUpdate:modelValue":e[12]||(e[12]=t=>_(p)?p.value=t:null),label:l(i).USER_MANAGE_GROUP,items:["A","B","C","D","E","G","H","I","K","L"]},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1}),a(S,{class:"d-flex justify-end gap-2"},{default:r(()=>[l(h)?(C(),J(b,{key:0,variant:"tonal",onClick:ue},{default:r(()=>[f(" Delete ")]),_:1})):Q("",!0),a(b,{onClick:ie},{default:r(()=>[f(u(l(i).NOTIFY_ACTIONS_EDIT_BTN_SAVE),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])])}}});const At=be(ze,[["__scopeId","data-v-965d89d2"]]);export{At as default};
