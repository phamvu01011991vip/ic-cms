import{_ as A}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-29ba3f76.js";import{l as n}from"./index-d2a9c51c.js";import{d as B,l as a,ae as L,r as U,o as T,c as N,q as t,w as e,s as i,I as v,U as m,y as r,b as $,af as z,E as P,n as s,F as q,a as R,ad as O,a5 as j}from"./index-ed2f9e48.js";import{a as x,V as C}from"./VRow-563cefa7.js";import{V as F,c as V}from"./VCard-20e56964.js";import{V as g}from"./VDivider-0654ea99.js";import{V as G}from"./VSpacer-903df1cd.js";import{V as H}from"./VTable-60d2b25e.js";import{V as M}from"./VCheckbox-86cbe296.js";import{V as X}from"./VTextField-17c7b994.js";import{V as J}from"./VTextarea-938e9873.js";import{V as K}from"./VDialog-8153b926.js";import"./createSimpleFunctional-b8ae8fab.js";import"./VAvatar-64850002.js";import"./VImg-2cf5c854.js";import"./transition-d0ff91da.js";import"./VInput-adae660e.js";import"./VCheckboxBtn-d9d39b31.js";import"./VSelectionControl-89de378e.js";/* empty css                   */import"./VField-c67db2c3.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./VCounter-1030fb28.js";import"./VOverlay-bb2110ac.js";import"./lazy-ad19b40d.js";import"./dialog-transition-a193b3ce.js";const Q={scope:"col"},W={scope:"col"},Z={scope:"col"},tt={scope:"col",style:{"text-align":"center"}},et={class:"text-capitalize text-base"},at={class:"text-capitalize text-small-txt"},lt={class:"text-center"},ot=B({__name:"notify",setup(st){a(""),a(10),a(1),a(14),a(1);const d=a(!1);a([]),a(""),a("");const h=a(!1),y=a(),c=a("Off"),f=a(),p=a(),_=a(),b=a(),I=a(),E=async()=>{await O.get("admin/notify/listing").then(u=>{y.value=u.data.data})},D=async u=>{b.value=u,d.value=!0,await O.post("admin/notify/listing_for_id",{id:u}).then(l=>{_.value=l.data.data,f.value=_.value[0].title,p.value=_.value[0].content,_.value[0].status==null,c.value="On",_.value[0].status==2&&(c.value="Off")}).catch(l=>{console.log(l)})};L(()=>{E()});const k=async()=>{c.value=="On"?I.value=1:I.value=2,await O.post("admin/notify/update",{id:b.value,title:f.value,content:p.value,status:I.value}).then(u=>{d.value=!1,E(),console.log(u)}).catch(u=>{console.log(u)})},S=n.NOTIFY_HEADING_TITLE;return(u,l)=>{const Y=A,w=U("Vcol");return T(),N("section",null,[t(C,null,{default:e(()=>[t(x,{cols:"12"},{default:e(()=>[t(F,{title:i(S)},{default:e(()=>[t(V,null,{default:e(()=>[t(C)]),_:1}),t(g),t(V,{class:"d-flex flex-wrap gap-4"},{default:e(()=>[t(v,{variant:"tonal",color:"secondary","prepend-icon":"bx-arrow-from-bottom"},{default:e(()=>[m(r(i(n).NOTIFY_EXPORT),1)]),_:1}),t(G)]),_:1}),t(g),h.value?(T(),$(z,{key:0,height:"10",indeterminate:"",color:"primary"})):P("",!0),t(H,{class:"text-no-wrap"},{default:e(()=>[s("thead",null,[s("tr",null,[s("th",Q,r(i(n).NOTIFY_ID),1),s("th",W,r(i(n).NOTIFY_TITLE),1),s("th",Z,r(i(n).NOTIFY_CONTENT),1),s("th",tt,r(i(n).NOTIFY_ACTIONS),1)])]),s("tbody",null,[(T(!0),N(q,null,R(y.value,o=>(T(),N("tr",{key:o.id},[s("td",null,r(o.id),1),s("td",null,[s("span",et,r(o.title),1)]),s("td",null,[s("span",at,r(o.content),1)]),s("td",lt,[t(v,{color:"success",size:"small",onClick:nt=>D(o.id)},{default:e(()=>[m(r(i(n).NOTIFY_ACTIONS_EDIT),1)]),_:2},1032,["onClick"]),m("â€‚ ")])]))),128))])]),_:1}),t(g)]),_:1},8,["title"])]),_:1})]),_:1}),t(K,{modelValue:d.value,"onUpdate:modelValue":l[5]||(l[5]=o=>d.value=o),"max-width":"600"},{activator:e(({props:o})=>[]),default:e(()=>[t(F,{title:i(n).NOTIFY_ACTIONS_EDIT_TITLE},{default:e(()=>[t(Y,{variant:"text",size:"small",onClick:l[0]||(l[0]=o=>d.value=!1)}),t(V,null,{default:e(()=>[t(C,null,{default:e(()=>[t(w,{cols:"12"},{default:e(()=>[t(M,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=o=>c.value=o),style:{"margin-left":"15px"},"true-value":"On","false-value":"Off",color:"success",label:`${c.value.toString()}`},null,8,["modelValue","label"])]),_:1}),t(x,{cols:"12"},{default:e(()=>[t(X,{modelValue:f.value,"onUpdate:modelValue":l[2]||(l[2]=o=>f.value=o),label:i(n).NOTIFY_ACTIONS_EDIT_TITLE_NOTI},null,8,["modelValue","label"])]),_:1}),t(x,{cols:"12"},{default:e(()=>[t(J,{modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=o=>p.value=o),label:i(n).NOTIFY_ACTIONS_EDIT_CONTENT},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1}),t(V,{class:"d-flex justify-end gap-2"},{default:e(()=>[t(v,{color:"secondary",variant:"tonal",onClick:l[4]||(l[4]=o=>d.value=!1)},{default:e(()=>[m(r(i(n).NOTIFY_ACTIONS_EDIT_BTN_CLOSE),1)]),_:1}),t(v,{onClick:k},{default:e(()=>[m(r(i(n).NOTIFY_ACTIONS_EDIT_BTN_SAVE),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])])}}});const wt=j(ot,[["__scopeId","data-v-5cdf5bdf"]]);export{wt as default};
